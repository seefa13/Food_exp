{{ block content }}

    <div class = "game-body" id = "game-body">
        
        <div class = text> The Food items considered are {{ Item_h }} and {{ Item_unh }} </div>

        <div class = text id = compare> Please compare the following two products: </div>

        <div class = "game-table">
            <div class = "row">
                <div class = "cell"> </div>
                <div class = "cell"> {{ Item_h }} </div>
                <div class = "cell"> {{ Item_unh }} </div>
            </div>
            <div class = "row">
                <div class = "cell"> Price </div>
                <div class = "cell"> €{{cp1}} </div>
                <div class = "cell"> €{{cp2}} </div>
            </div>
            <div class = "row">
                <div class = "cell"> Taste </div>
                <div class = "cell"> <img class="img-rating" src="{% static ct1 %}" width="150px" height="35px" /> </div>
                <div class = "cell"> <img class="img-rating" src="{% static ct2 %}" width="150px" height="35px" /> </div>
            </div>
            <div class = "row">
                <div class = "cell"> {{ if Treatment == 0 }} Health 
                    {{ else }} Risk
                    {{ endif }} </div>
                <div class = "cell"> <img class="img-rating" src="{% static ch1 %}" width="150px" height="35px" /> </div>
                <div class = "cell"> <img class="img-rating" src="{% static ch2 %}" width="150px" height="35px" /> </div>
            </div>
        </div>

        <div class = text id = choose> Please choose one of the two products: </div>

        <div>
            <button type="button" name="iHDec" onclick="decision(0)"> Product 1 </button>
            <button type="button" name="iHDec" onclick="decision(1)"> Product 2 </button>
        </div>

        <input type = 'hidden' name = 'dRT' id="dRT">
        <input type = 'hidden' name = 'iHDec' id="iHDec">
        <button id = "nextbut" style="display: none"> </button>
    </div>

{{ endblock }}

{{ block scripts }}

<script>

var tStart,tNow

window.addEventListener('DOMContentLoaded', (event) => {
    tStart = new Date();
    console.log('Starts now: $(tStart)');
});

function decision(value) {
    tNow = new Date();
    console.log('Ends now: $(tNow)');
    let dRT = tNow - tStart;
    let nextbut = document.getElementById('nextbut');
    let inputDec = document.getElementById('iHDec');
    let inputdRT = document.getElementById('dRT');

    inputDec.value = value;
    inputdRT.value = dRT;
    nextbut.click();
}


</script>

{{ endblock }}

{{ block styles }}
<style>
    .debug-info{
        top: 120vh
    }
    .game-body{
        width: 100vw;
        height: 100vh;
        background-color: lightgray;
        position: absolute;
        transform: translate(-50%,-50%);
        top: 50vh;
        left: 50vw;
        display: flex;
        justify-content: space-evenly;
        align-items: center;
        flex-direction: column;
    }
    .game-table{
        background-color: darkgray;
        display: flex;
        flex-direction: column;
        height: 350px
    }
    .row{
        display: flex;
        flex-direction: row;
        justify-content: center;
    }
    .cell{
        width: 200px;
        height: 100px;
        border: 1px solid black;
        background-color: darkgray;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .text{
        color: black;
    }
</style>
{{ endblock }}
